(this["webpackJsonpspotify-tool"]=this["webpackJsonpspotify-tool"]||[]).push([[0],{12:function(e,t,n){e.exports=n(35)},17:function(e,t,n){},33:function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=33},34:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(9),l=n.n(c),o=(n(17),n(1)),u=n(2),s=n.n(u),i=n(3),m=n(10),d=n.n(m),p=n(11),f=n.n(p),b=(n(8),function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,e.idx+1),r.a.createElement("td",null,r.a.createElement("a",{href:"https://open.spotify.com/playlist/".concat(e.data.id)},e.data.name)||"null"),r.a.createElement("td",null,e.data.description||"null"),r.a.createElement("td",null,e.data.followers.total||"null"),r.a.createElement("td",null,e.data.tracks.items.length||"null"),r.a.createElement("td",null,r.a.createElement("a",{href:"https://open.spotify.com/user/".concat(e.data.owner.id)},e.data.owner.display_name)||"null"),r.a.createElement("td",null,e.data.public?"true":"false"))}),E=(n(34),new d.a),h=function(e){var t=e.auth,n=Object(a.useState)(0),c=Object(o.a)(n,2),l=c[0],u=c[1],m=Object(a.useState)(),d=Object(o.a)(m,2),p=d[0],h=d[1],v=Object(a.useState)([]),w=Object(o.a)(v,2),y=w[0],O=w[1],x=Object(a.useState)(),j=Object(o.a)(x,2),k=j[0],g=j[1],S=Object(a.useState)(!0),D=Object(o.a)(S,2),N=D[0],_=D[1];t.access_token&&E.setAccessToken(t.access_token),Object(a.useEffect)((function(){p&&(u(0),_(!1),g(!0),function(){var e=Object(i.a)(s.a.mark((function e(t){var n,a,r,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0,a=200,r=[],c=0;case 4:if(!(c<4||n>10)){e.next=10;break}return e.next=7,E.searchPlaylists(t,{limit:50}).then((function(e){e.body.playlists.items.forEach(function(){var e=Object(i.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout(Object(i.a)(s.a.mark((function e(){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.getPlaylist(t.id);case 2:if(n=e.sent,!r[n.body]){e.next=7;break}return e.abrupt("return");case 7:r.push(n.body),u(l++);case 9:l>90&&(a=1e3),l>100&&(a=2e3);case 11:case"end":return e.stop()}}),e)}))),a);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));case 7:c++,e.next=4;break;case 10:setTimeout((function(){O((function(e){return r})),g(!1),_(!0)}),3e3);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(p))}),[p,O]);return r.a.createElement("div",null,r.a.createElement("form",null,r.a.createElement("label",{htmlFor:"input"},"Search:",r.a.createElement("input",{id:"input",type:"text"})),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(e){e.preventDefault();var t=document.getElementById("input");t.value?h(t.value):t.setAttribute("placeholder","Please enter a search term")}},"Search"),r.a.createElement("button",{onClick:function(e){y.length>0?(e.preventDefault(),f.a.convert(document.getElementById("table"),{name:"query-".concat(p,"-").concat(Date.now(),".xlsx")})):alert("No results to export")}},"Export to excel"))),k&&r.a.createElement("p",null,"Searching... Found ",l," results."),N&&r.a.createElement("p",null,"Found ",l," results."),r.a.createElement("table",{id:"table"},r.a.createElement("thead",null,["id","Name","Description","Followers","Tracks","Owner Name","Public"].map((function(e){return r.a.createElement("th",null,e)}))),r.a.createElement("tbody",null,0===y.length?r.a.createElement("tr",null):y.map((function(e,t){return r.a.createElement(b,{data:e,idx:t})})))))};Object(a.createContext)();var v=function(){var e=Object(a.useState)(function(){for(var e,t={},n=/([^&;=]+)=?([^&;]*)/g,a=window.location.hash.substring(1);e=n.exec(a);)t[e[1]]=decodeURIComponent(e[2]);return t}()),t=Object(o.a)(e,1)[0];return t.access_token?r.a.createElement("div",{className:"App"},r.a.createElement(h,{auth:t})):window.location.href="http://localhost:8888"};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(v,null)),document.getElementById("root"))},8:function(e,t,n){}},[[12,1,2]]]);
//# sourceMappingURL=main.7d6feab2.chunk.js.map